<!DOCTYPE html>
<html lang="en">
    <head> 
        <meta name="author" content="stehrenberg, chanton1392, abstractCalculus, benjaminaaron">
        <title>Battleship AI</title> 

        <!-- vendors -->
        <script type="text/javascript" src="js/vendors/jquery-2.1.1.min.js"></script>

        <style></style> 
    </head> 
    <body>

        <!-- own css -->
        <link href="css/style.css" rel="stylesheet"/>
        <!-- own js -->
        <script type="text/javascript" src="js/player/AbstractPlayer.js"/></script>
        <script type="text/javascript" src="js/player/Human.js"/></script>
        <script type="text/javascript" src="js/player/Bot.js"/></script>
        <script type="text/javascript" src="js/Game.js"></script>
        <script type="text/javascript" src="js/Board.js"></script>
        <script type="text/javascript" src="js/Field.js"></script>
        <script type="text/javascript" src="js/Ship.js"></script>

        <div id='gameHook'>enable javascript in your browser to play battleship</div>

        <script>

            var player1 = new Human('Max');
            var player2 = new Bot();
            var players = [player1, player2];
            var shipTypes = [new ShipType(5, 'aqua', 1), new ShipType(4, 'maroon', 1), new ShipType(3, 'lime', 1), new ShipType(2, 'orange', 2)];

            var game = new Game(players, shipTypes, 10, 10, document.getElementById('gameHook'));

            var animate = false;

            function initDraw(){
                window.requestAnimationFrame(draw);
            }

            var drawCount = 0;
            function draw(){
                drawCount ++;
                //console.log(drawCount);
                game.draw();
                if(animate)
                    window.requestAnimationFrame(draw);
            }
                        
            $('body').on('keydown', function(e){ 
                if(e.shiftKey && game.activeBoard)  
                    if(game.currentPlayer)
                        if(game.currentPlayer.type == 'human')
                            game.currentPlayer.flipShipsOrientation(false);
                if(e.keyCode == 82) // r
                    if(game.currentPlayer)
                        if(game.currentPlayer.type == 'human')
                            game.currentPlayer.btnCallback('random');
            });

        </script>

    </body> 
</html>
